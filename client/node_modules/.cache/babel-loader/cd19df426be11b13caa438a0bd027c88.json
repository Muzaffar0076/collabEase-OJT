{"ast":null,"code":"var _jsxFileName = \"/Users/roronoazoro/Desktop/collabEase-OJT/client/src/pages/Projects.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport io from \"socket.io-client\";\nimport Sidebar from '../components/Sidebar';\nimport Topbar from '../components/Topbar';\nimport '../styles/Topbar.css'; // import { useSelector } from 'react-redux'; // For user info if needed\n// Mock users\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst users = [{\n  id: 1,\n  name: \"Rahul\",\n  avatar: \"https://ui-avatars.com/api/?name=Rahul\"\n}, {\n  id: 2,\n  name: \"Sanjay\",\n  avatar: \"https://ui-avatars.com/api/?name=Sanjay\"\n}, {\n  id: 3,\n  name: \"Priya\",\n  avatar: \"https://ui-avatars.com/api/?name=Priya\"\n}]; // Mock projects\n\nconst mockProjects = [{\n  id: 101,\n  name: \"Website Redesign\",\n  description: \"Revamp the company website.\",\n  due: \"2024-07-01\",\n  status: \"Active\"\n}, {\n  id: 102,\n  name: \"Mobile App\",\n  description: \"Build the new mobile app.\",\n  due: \"2024-08-15\",\n  status: \"Planning\"\n}, {\n  id: 103,\n  name: \"Marketing Campaign\",\n  description: \"Launch summer campaign.\",\n  due: \"2024-06-20\",\n  status: \"Active\"\n}]; // Mock tasks\n\nconst initialTasks = [{\n  id: 1,\n  projectId: 101,\n  title: \"Design UI\",\n  status: \"To Do\",\n  tags: [\"#frontend\", \"#design\"],\n  assignedTo: 1,\n  due: \"2024-06-10\",\n  pinned: false,\n  subtasks: [{\n    id: 1,\n    title: \"Header\",\n    done: true\n  }, {\n    id: 2,\n    title: \"Footer\",\n    done: false\n  }],\n  dependencies: [],\n  attachments: [],\n  history: [{\n    user: 1,\n    action: \"created\",\n    at: \"2024-06-01T10:00\"\n  }, {\n    user: 2,\n    action: \"moved to To Do\",\n    at: \"2024-06-01T10:05\"\n  }],\n  customStatus: null\n}, {\n  id: 2,\n  projectId: 101,\n  title: \"Setup Backend\",\n  status: \"In Progress\",\n  tags: [\"#backend\", \"#urgent\"],\n  assignedTo: 2,\n  due: \"2024-06-09\",\n  pinned: true,\n  subtasks: [],\n  dependencies: [1],\n  attachments: [],\n  history: [{\n    user: 2,\n    action: \"created\",\n    at: \"2024-06-01T10:10\"\n  }, {\n    user: 2,\n    action: \"moved to In Progress\",\n    at: \"2024-06-02T09:00\"\n  }],\n  customStatus: null\n}, {\n  id: 3,\n  projectId: 102,\n  title: \"Write Docs\",\n  status: \"Completed\",\n  tags: [\"#docs\"],\n  assignedTo: null,\n  due: \"2024-06-08\",\n  pinned: false,\n  subtasks: [],\n  dependencies: [],\n  attachments: [],\n  history: [{\n    user: 3,\n    action: \"created\",\n    at: \"2024-06-01T10:20\"\n  }, {\n    user: 3,\n    action: \"moved to Done\",\n    at: \"2024-06-03T12:00\"\n  }],\n  customStatus: null\n}];\nconst defaultStatuses = [\"To Do\", \"In Progress\", \"Completed\"];\nconst socket = io(\"http://localhost:5000\"); // Adjust backend URL as needed\n\nfunction Projects(_ref) {\n  _s();\n\n  var _projectTasks$find;\n\n  let {\n    user,\n    setUser\n  } = _ref;\n  const [projects] = useState(mockProjects);\n  const [selectedProjectId, setSelectedProjectId] = useState(null);\n  const [tasks, setTasks] = useState(initialTasks);\n  const [statuses, setStatuses] = useState(defaultStatuses);\n  const [filterStatus, setFilterStatus] = useState(\"All\");\n  const [showHistoryTask, setShowHistoryTask] = useState(null);\n  const [customStatusInput, setCustomStatusInput] = useState(\"\");\n  const [notifications, setNotifications] = useState([]);\n  const [activeTab, setActiveTab] = useState(\"Tasks\");\n  const [search, setSearch] = useState(\"\");\n  const [userPhoto, setUserPhoto] = useState(null); // Real-time notifications (Socket.io)\n\n  useEffect(() => {\n    socket.on(\"task-update\", msg => {\n      setNotifications(prev => [...prev, msg]);\n      setTimeout(() => setNotifications(prev => prev.slice(1)), 4000);\n    });\n    return () => socket.off(\"task-update\");\n  }, []); // Fetch user profile photo\n\n  useEffect(() => {\n    const fetchUserPhoto = async () => {\n      try {\n        const response = await fetch('/api/users/profile', {\n          credentials: 'include'\n        });\n\n        if (response.ok) {\n          const data = await response.json();\n          setUserPhoto(data.photo || null);\n        }\n      } catch (error) {\n        console.error('Error fetching user photo:', error);\n      }\n    };\n\n    fetchUserPhoto();\n  }, []); // Navigation handlers\n\n  const handleProfileNavigation = () => {\n    window.location.href = '/profile';\n  };\n\n  const handleLogout = async () => {\n    if (setUser) setUser(null);\n    window.location.href = '/login';\n\n    try {\n      await fetch(\"http://localhost:5000/auth/logout\", {\n        credentials: 'include',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n    } catch (error) {\n      console.error(\"Logout error:\", error);\n    }\n  }; // Filter tasks for selected project\n\n\n  const projectTasks = selectedProjectId ? tasks.filter(t => t.projectId === selectedProjectId) : []; // Stats\n\n  const totalTasks = projectTasks.length;\n  const completedTasks = projectTasks.filter(t => t.status === \"Completed\").length;\n  const inProgressTasks = projectTasks.filter(t => t.status === \"In Progress\").length;\n  const progress = totalTasks ? Math.round(completedTasks / totalTasks * 100) : 0; // Filtering\n\n  let filteredTasks = projectTasks.filter(task => {\n    if (search && !task.title.toLowerCase().includes(search.toLowerCase())) return false;\n    if (filterStatus !== \"All\" && task.status !== filterStatus) return false;\n    return true;\n  }); // Drag and drop handlers\n\n  const onDragStart = (e, id) => {\n    e.dataTransfer.setData(\"id\", id);\n  };\n\n  const onDrop = (e, status) => {\n    const id = e.dataTransfer.getData(\"id\");\n    setTasks(tasks => tasks.map(task => task.id === Number(id) ? { ...task,\n      status,\n      history: [...task.history, {\n        user: 1,\n        action: `moved to ${status}`,\n        at: new Date().toISOString()\n      }]\n    } : task));\n    socket.emit(\"task-update\", `Task #${id} moved to ${status}`);\n  };\n\n  const onDragOver = e => e.preventDefault(); // Add custom status\n\n\n  const addCustomStatus = () => {\n    if (customStatusInput && !statuses.includes(customStatusInput)) {\n      setStatuses([...statuses, customStatusInput]);\n      setCustomStatusInput(\"\");\n    }\n  }; // Pin/unpin task\n\n\n  const togglePin = id => {\n    setTasks(tasks => tasks.map(task => task.id === id ? { ...task,\n      pinned: !task.pinned\n    } : task));\n  }; // Subtask completion\n\n\n  const toggleSubtask = (taskId, subId) => {\n    setTasks(tasks => tasks.map(task => task.id === taskId ? { ...task,\n      subtasks: task.subtasks.map(s => s.id === subId ? { ...s,\n        done: !s.done\n      } : s)\n    } : task));\n  }; // Due date color\n\n\n  const dueColor = due => {\n    const today = new Date().toISOString().slice(0, 10);\n    if (due < today) return \"overdue\";\n    if (due === today) return \"due-today\";\n    return \"future\";\n  }; // File attachment (mock)\n\n\n  const attachFile = (taskId, file) => {\n    setTasks(tasks => tasks.map(task => task.id === taskId ? { ...task,\n      attachments: [...task.attachments, {\n        name: file.name,\n        url: URL.createObjectURL(file)\n      }]\n    } : task));\n  }; // AI Suggestion (mock)\n\n\n  const aiSuggest = title => {\n    if (title.toLowerCase().includes(\"bug\")) return {\n      tag: \"#bug\",\n      due: \"2024-06-12\"\n    };\n    return {};\n  }; // Tabs content\n\n\n  const renderTabs = () => {\n    if (activeTab === \"Tasks\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"project-filters flex items-center gap-2 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `add-task-btn`,\n            children: \"+ Add Task\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `filter-btn${filterStatus === \"All\" ? \" active\" : \"\"}`,\n            onClick: () => setFilterStatus(\"All\"),\n            children: \"All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), statuses.map(status => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `filter-btn${filterStatus === status ? \" active\" : \"\"}`,\n            onClick: () => setFilterStatus(status),\n            children: status\n          }, status, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"task-search\",\n            placeholder: \"Search tasks...\",\n            value: search,\n            onChange: e => setSearch(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kanban-board\",\n          children: statuses.map(status => /*#__PURE__*/_jsxDEV(\"div\", {\n            onDrop: e => onDrop(e, status),\n            onDragOver: onDragOver,\n            className: \"kanban-column\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"kanban-count\",\n                children: filteredTasks.filter(t => t.status === status).length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this), filteredTasks.filter(task => task.status === status).length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"empty-state\",\n              children: \"No tasks\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 19\n            }, this), filteredTasks.filter(task => task.status === status).map(task => {\n              var _users$find;\n\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                draggable: true,\n                onDragStart: e => onDragStart(e, task.id),\n                className: `kanban-task${task.pinned ? ' pinned' : ''} ${dueColor(task.due)}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"task-title\",\n                    children: task.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: `starred-btn${task.pinned ? '' : ' inactive'}`,\n                    onClick: () => togglePin(task.id),\n                    children: task.pinned ? \"⭐\" : \"☆\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"task-tags\",\n                  children: task.tags.map(tag => /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"tag-chip\",\n                    children: tag\n                  }, tag, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 300,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"task-meta\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"task-assigned\",\n                    children: task.assignedTo ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: (_users$find = users.find(u => u.id === task.assignedTo)) === null || _users$find === void 0 ? void 0 : _users$find.avatar,\n                      alt: \"avatar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 306,\n                      columnNumber: 27\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-400\",\n                      children: \"Unassigned\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"task-due\",\n                    children: [\"Due: \", task.due]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 21\n                }, this), task.subtasks.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"subtasks\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs font-semibold mb-1\",\n                    children: \"Subtasks\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"subtasks-list\",\n                    children: task.subtasks.map(s => /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"subtask-label\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        checked: s.done,\n                        onChange: () => toggleSubtask(task.id, s.id)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 320,\n                        columnNumber: 31\n                      }, this), s.title]\n                    }, s.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 319,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"subtask-progress\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"subtask-progress-bar\",\n                      style: {\n                        width: `${task.subtasks.filter(s => s.done).length / task.subtasks.length * 100}%`\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 326,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"attachments\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    onChange: e => attachFile(task.id, e.target.files[0]),\n                    className: \"text-xs\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-wrap gap-1 mt-1\",\n                    children: task.attachments.map((a, i) => /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: a.url,\n                      target: \"_blank\",\n                      rel: \"noopener noreferrer\",\n                      className: \"attachment-link\",\n                      children: a.name\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 338,\n                      columnNumber: 27\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"history-btn\",\n                  onClick: () => setShowHistoryTask(task.id),\n                  children: \"View History\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 21\n                }, this), task.dependencies.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"dependencies\",\n                  children: [\"Depends on: \", task.dependencies.join(\", \")]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 23\n                }, this)]\n              }, task.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this);\n            }), status === \"Completed\" && customStatusInput !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: customStatusInput,\n                onChange: e => setCustomStatusInput(e.target.value),\n                placeholder: \"Add new status\",\n                className: \"border px-2 py-1 rounded text-xs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"ml-2 px-2 py-1 rounded bg-blue-200 text-xs\",\n                onClick: addCustomStatus,\n                children: \"Add\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 19\n            }, this)]\n          }, status, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    } // Team, Chat, Automations tabs placeholder\n\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty-state\",\n      children: \"Coming soon!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 12\n    }, this);\n  }; // Main layout: using dashboard layout\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(Topbar, {\n        user: user,\n        userPhoto: userPhoto,\n        notifications: notifications,\n        onProfile: handleProfileNavigation,\n        onLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"main-content\",\n        style: {\n          paddingTop: '80px'\n        },\n        children: !selectedProjectId ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"all-projects-view\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"All Projects\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"create-btn\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-plus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 19\n              }, this), \" New Project\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-stats\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-project-diagram\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Total Projects\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: projects.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-tasks\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Active Tasks\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: tasks.filter(t => t.status !== \"Completed\").length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-check-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Completed\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: tasks.filter(t => t.status === \"Completed\").length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-sections\",\n            children: /*#__PURE__*/_jsxDEV(\"section\", {\n              className: \"section\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"section-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: \"Recent Projects\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"add-btn\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-plus\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 23\n                  }, this), \" Add Project\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"projects-grid\",\n                children: projects.map(project => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"project-card\",\n                  onClick: () => setSelectedProjectId(project.id),\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"project-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      children: project.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 433,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"delete-btn\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-trash\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 435,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 434,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 432,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: project.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 438,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"project-members\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"member-list\",\n                      children: users.slice(0, 3).map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"member-avatar\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: user.avatar,\n                          alt: user.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 443,\n                          columnNumber: 33\n                        }, this)\n                      }, user.id, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 442,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 440,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"project-status\",\n                      children: project.status\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 447,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 439,\n                    columnNumber: 25\n                  }, this)]\n                }, project.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"project-details-page\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"back-btn\",\n            onClick: () => setSelectedProjectId(null),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-arrow-left\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 17\n            }, this), \" Back to Projects\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"project-stats-cards\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"project-stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-icon stat-tasks\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-tasks\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 57\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-title\",\n                  children: \"Total Tasks\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value\",\n                  children: totalTasks\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"project-stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-icon stat-completed\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-check-circle\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 61\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-title\",\n                  children: \"Completed\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value\",\n                  children: completedTasks\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"project-stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-icon stat-inprogress\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-sync-alt\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 62\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-title\",\n                  children: \"In Progress\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value\",\n                  children: inProgressTasks\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"project-progress-bar-wrap\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"project-progress-label\",\n              children: \"Project Progress\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"project-progress-bar\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"project-progress-bar-inner\",\n                style: {\n                  width: `${progress}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"project-progress-percent\",\n              children: [progress, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"project-tabs\",\n            children: ['Tasks', 'Team', 'Chat', 'Automations'].map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `project-tab${activeTab === tab ? ' active' : ''}`,\n              onClick: () => setActiveTab(tab),\n              children: [tab, tab === 'Team' ? ' (1)' : '']\n            }, tab, true, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"project-tab-content\",\n            children: renderTabs()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 15\n          }, this), showHistoryTask && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"history-modal-bg\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"history-modal\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Task History\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: (_projectTasks$find = projectTasks.find(t => t.id === showHistoryTask)) === null || _projectTasks$find === void 0 ? void 0 : _projectTasks$find.history.map((h, i) => {\n                  var _users$find2;\n\n                  return /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: ((_users$find2 = users.find(u => u.id === h.user)) === null || _users$find2 === void 0 ? void 0 : _users$find2.name) || \"User\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 516,\n                      columnNumber: 27\n                    }, this), \" \", h.action, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        color: '#888'\n                      },\n                      children: new Date(h.at).toLocaleString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 516,\n                      columnNumber: 98\n                    }, this)]\n                  }, i, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 515,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"close-btn\",\n                onClick: () => setShowHistoryTask(null),\n                children: \"Close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 375,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Projects, \"FqRNlr5dPAkK8kY4z2+eBLcHoLI=\");\n\n_c = Projects;\nexport default Projects;\n\nvar _c;\n\n$RefreshReg$(_c, \"Projects\");","map":{"version":3,"names":["React","useState","useEffect","io","Sidebar","Topbar","users","id","name","avatar","mockProjects","description","due","status","initialTasks","projectId","title","tags","assignedTo","pinned","subtasks","done","dependencies","attachments","history","user","action","at","customStatus","defaultStatuses","socket","Projects","setUser","projects","selectedProjectId","setSelectedProjectId","tasks","setTasks","statuses","setStatuses","filterStatus","setFilterStatus","showHistoryTask","setShowHistoryTask","customStatusInput","setCustomStatusInput","notifications","setNotifications","activeTab","setActiveTab","search","setSearch","userPhoto","setUserPhoto","on","msg","prev","setTimeout","slice","off","fetchUserPhoto","response","fetch","credentials","ok","data","json","photo","error","console","handleProfileNavigation","window","location","href","handleLogout","headers","projectTasks","filter","t","totalTasks","length","completedTasks","inProgressTasks","progress","Math","round","filteredTasks","task","toLowerCase","includes","onDragStart","e","dataTransfer","setData","onDrop","getData","map","Number","Date","toISOString","emit","onDragOver","preventDefault","addCustomStatus","togglePin","toggleSubtask","taskId","subId","s","dueColor","today","attachFile","file","url","URL","createObjectURL","aiSuggest","tag","renderTabs","target","value","find","u","width","files","a","i","join","flex","paddingTop","project","tab","h","color","toLocaleString"],"sources":["/Users/roronoazoro/Desktop/collabEase-OJT/client/src/pages/Projects.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport io from \"socket.io-client\";\nimport Sidebar from '../components/Sidebar';\nimport Topbar from '../components/Topbar';\nimport '../styles/Topbar.css';\n// import { useSelector } from 'react-redux'; // For user info if needed\n\n// Mock users\nconst users = [\n  { id: 1, name: \"Rahul\", avatar: \"https://ui-avatars.com/api/?name=Rahul\" },\n  { id: 2, name: \"Sanjay\", avatar: \"https://ui-avatars.com/api/?name=Sanjay\" },\n  { id: 3, name: \"Priya\", avatar: \"https://ui-avatars.com/api/?name=Priya\" },\n];\n\n// Mock projects\nconst mockProjects = [\n  { id: 101, name: \"Website Redesign\", description: \"Revamp the company website.\", due: \"2024-07-01\", status: \"Active\" },\n  { id: 102, name: \"Mobile App\", description: \"Build the new mobile app.\", due: \"2024-08-15\", status: \"Planning\" },\n  { id: 103, name: \"Marketing Campaign\", description: \"Launch summer campaign.\", due: \"2024-06-20\", status: \"Active\" },\n];\n\n// Mock tasks\nconst initialTasks = [\n  {\n    id: 1,\n    projectId: 101,\n    title: \"Design UI\",\n    status: \"To Do\",\n    tags: [\"#frontend\", \"#design\"],\n    assignedTo: 1,\n    due: \"2024-06-10\",\n    pinned: false,\n    subtasks: [\n      { id: 1, title: \"Header\", done: true },\n      { id: 2, title: \"Footer\", done: false },\n    ],\n    dependencies: [],\n    attachments: [],\n    history: [\n      { user: 1, action: \"created\", at: \"2024-06-01T10:00\" },\n      { user: 2, action: \"moved to To Do\", at: \"2024-06-01T10:05\" },\n    ],\n    customStatus: null,\n  },\n  {\n    id: 2,\n    projectId: 101,\n    title: \"Setup Backend\",\n    status: \"In Progress\",\n    tags: [\"#backend\", \"#urgent\"],\n    assignedTo: 2,\n    due: \"2024-06-09\",\n    pinned: true,\n    subtasks: [],\n    dependencies: [1],\n    attachments: [],\n    history: [\n      { user: 2, action: \"created\", at: \"2024-06-01T10:10\" },\n      { user: 2, action: \"moved to In Progress\", at: \"2024-06-02T09:00\" },\n    ],\n    customStatus: null,\n  },\n  {\n    id: 3,\n    projectId: 102,\n    title: \"Write Docs\",\n    status: \"Completed\",\n    tags: [\"#docs\"],\n    assignedTo: null,\n    due: \"2024-06-08\",\n    pinned: false,\n    subtasks: [],\n    dependencies: [],\n    attachments: [],\n    history: [\n      { user: 3, action: \"created\", at: \"2024-06-01T10:20\" },\n      { user: 3, action: \"moved to Done\", at: \"2024-06-03T12:00\" },\n    ],\n    customStatus: null,\n  },\n];\n\nconst defaultStatuses = [\"To Do\", \"In Progress\", \"Completed\"];\n\nconst socket = io(\"http://localhost:5000\"); // Adjust backend URL as needed\n\nfunction Projects({ user, setUser }) {\n  const [projects] = useState(mockProjects);\n  const [selectedProjectId, setSelectedProjectId] = useState(null);\n  const [tasks, setTasks] = useState(initialTasks);\n  const [statuses, setStatuses] = useState(defaultStatuses);\n  const [filterStatus, setFilterStatus] = useState(\"All\");\n  const [showHistoryTask, setShowHistoryTask] = useState(null);\n  const [customStatusInput, setCustomStatusInput] = useState(\"\");\n  const [notifications, setNotifications] = useState([]);\n  const [activeTab, setActiveTab] = useState(\"Tasks\");\n  const [search, setSearch] = useState(\"\");\n  const [userPhoto, setUserPhoto] = useState(null);\n\n  // Real-time notifications (Socket.io)\n  useEffect(() => {\n    socket.on(\"task-update\", (msg) => {\n      setNotifications((prev) => [...prev, msg]);\n      setTimeout(() => setNotifications((prev) => prev.slice(1)), 4000);\n    });\n    return () => socket.off(\"task-update\");\n  }, []);\n\n  // Fetch user profile photo\n  useEffect(() => {\n    const fetchUserPhoto = async () => {\n      try {\n        const response = await fetch('/api/users/profile', {\n          credentials: 'include'\n        });\n        if (response.ok) {\n          const data = await response.json();\n          setUserPhoto(data.photo || null);\n        }\n      } catch (error) {\n        console.error('Error fetching user photo:', error);\n      }\n    };\n    fetchUserPhoto();\n  }, []);\n\n  // Navigation handlers\n  const handleProfileNavigation = () => {\n    window.location.href = '/profile';\n  };\n\n  const handleLogout = async () => {\n    if (setUser) setUser(null);\n    window.location.href = '/login';\n    try {\n      await fetch(\"http://localhost:5000/auth/logout\", {\n        credentials: 'include',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n    } catch (error) {\n      console.error(\"Logout error:\", error);\n    }\n  };\n\n  // Filter tasks for selected project\n  const projectTasks = selectedProjectId\n    ? tasks.filter(t => t.projectId === selectedProjectId)\n    : [];\n\n  // Stats\n  const totalTasks = projectTasks.length;\n  const completedTasks = projectTasks.filter(t => t.status === \"Completed\").length;\n  const inProgressTasks = projectTasks.filter(t => t.status === \"In Progress\").length;\n  const progress = totalTasks ? Math.round((completedTasks / totalTasks) * 100) : 0;\n\n  // Filtering\n  let filteredTasks = projectTasks.filter((task) => {\n    if (search && !task.title.toLowerCase().includes(search.toLowerCase())) return false;\n    if (filterStatus !== \"All\" && task.status !== filterStatus) return false;\n    return true;\n  });\n\n  // Drag and drop handlers\n  const onDragStart = (e, id) => {\n    e.dataTransfer.setData(\"id\", id);\n  };\n\n  const onDrop = (e, status) => {\n    const id = e.dataTransfer.getData(\"id\");\n    setTasks((tasks) =>\n      tasks.map((task) =>\n        task.id === Number(id)\n          ? {\n              ...task,\n              status,\n              history: [\n                ...task.history,\n                { user: 1, action: `moved to ${status}`, at: new Date().toISOString() },\n              ],\n            }\n          : task\n      )\n    );\n    socket.emit(\"task-update\", `Task #${id} moved to ${status}`);\n  };\n\n  const onDragOver = (e) => e.preventDefault();\n\n  // Add custom status\n  const addCustomStatus = () => {\n    if (customStatusInput && !statuses.includes(customStatusInput)) {\n      setStatuses([...statuses, customStatusInput]);\n      setCustomStatusInput(\"\");\n    }\n  };\n\n  // Pin/unpin task\n  const togglePin = (id) => {\n    setTasks((tasks) =>\n      tasks.map((task) =>\n        task.id === id ? { ...task, pinned: !task.pinned } : task\n      )\n    );\n  };\n\n  // Subtask completion\n  const toggleSubtask = (taskId, subId) => {\n    setTasks((tasks) =>\n      tasks.map((task) =>\n        task.id === taskId\n          ? {\n              ...task,\n              subtasks: task.subtasks.map((s) =>\n                s.id === subId ? { ...s, done: !s.done } : s\n              ),\n            }\n          : task\n      )\n    );\n  };\n\n  // Due date color\n  const dueColor = (due) => {\n    const today = new Date().toISOString().slice(0, 10);\n    if (due < today) return \"overdue\";\n    if (due === today) return \"due-today\";\n    return \"future\";\n  };\n\n  // File attachment (mock)\n  const attachFile = (taskId, file) => {\n    setTasks((tasks) =>\n      tasks.map((task) =>\n        task.id === taskId\n          ? {\n              ...task,\n              attachments: [...task.attachments, { name: file.name, url: URL.createObjectURL(file) }],\n            }\n          : task\n      )\n    );\n  };\n\n  // AI Suggestion (mock)\n  const aiSuggest = (title) => {\n    if (title.toLowerCase().includes(\"bug\")) return { tag: \"#bug\", due: \"2024-06-12\" };\n    return {};\n  };\n\n  // Tabs content\n  const renderTabs = () => {\n    if (activeTab === \"Tasks\") {\n      return (\n        <>\n          <div className=\"project-filters flex items-center gap-2 mb-4\">\n            <button className={`add-task-btn`}>+ Add Task</button>\n            <button className={`filter-btn${filterStatus === \"All\" ? \" active\" : \"\"}`} onClick={() => setFilterStatus(\"All\")}>All</button>\n            {statuses.map(status => (\n              <button key={status} className={`filter-btn${filterStatus === status ? \" active\" : \"\"}`} onClick={() => setFilterStatus(status)}>{status}</button>\n            ))}\n            <input\n              type=\"text\"\n              className=\"task-search\"\n              placeholder=\"Search tasks...\"\n              value={search}\n              onChange={e => setSearch(e.target.value)}\n            />\n          </div>\n          <div className=\"kanban-board\">\n            {statuses.map((status) => (\n              <div\n                key={status}\n                onDrop={(e) => onDrop(e, status)}\n                onDragOver={onDragOver}\n                className=\"kanban-column\"\n              >\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <h2>{status}</h2>\n                  <span className=\"kanban-count\">{filteredTasks.filter(t => t.status === status).length}</span>\n                </div>\n                {filteredTasks.filter((task) => task.status === status).length === 0 && (\n                  <div className=\"empty-state\">No tasks</div>\n                )}\n                {filteredTasks.filter((task) => task.status === status).map((task) => (\n                  <div\n                    key={task.id}\n                    draggable\n                    onDragStart={(e) => onDragStart(e, task.id)}\n                    className={`kanban-task${task.pinned ? ' pinned' : ''} ${dueColor(task.due)}`}\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"task-title\">{task.title}</div>\n                      <button className={`starred-btn${task.pinned ? '' : ' inactive'}`} onClick={() => togglePin(task.id)}>{task.pinned ? \"⭐\" : \"☆\"}</button>\n                    </div>\n                    <div className=\"task-tags\">\n                      {task.tags.map((tag) => (\n                        <span key={tag} className=\"tag-chip\">{tag}</span>\n                      ))}\n                    </div>\n                    <div className=\"task-meta\">\n                      <div className=\"task-assigned\">\n                        {task.assignedTo ? (\n                          <img src={users.find((u) => u.id === task.assignedTo)?.avatar} alt=\"avatar\" />\n                        ) : (\n                          <span className=\"text-xs text-gray-400\">Unassigned</span>\n                        )}\n                      </div>\n                      <span className=\"task-due\">Due: {task.due}</span>\n                    </div>\n                    {/* Subtasks */}\n                    {task.subtasks.length > 0 && (\n                      <div className=\"subtasks\">\n                        <div className=\"text-xs font-semibold mb-1\">Subtasks</div>\n                        <div className=\"subtasks-list\">\n                          {task.subtasks.map((s) => (\n                            <label key={s.id} className=\"subtask-label\">\n                              <input type=\"checkbox\" checked={s.done} onChange={() => toggleSubtask(task.id, s.id)} />\n                              {s.title}\n                            </label>\n                          ))}\n                        </div>\n                        <div className=\"subtask-progress\">\n                          <div\n                            className=\"subtask-progress-bar\"\n                            style={{ width: `${(task.subtasks.filter((s) => s.done).length / task.subtasks.length) * 100}%` }}\n                          ></div>\n                        </div>\n                      </div>\n                    )}\n                    {/* Attachments */}\n                    <div className=\"attachments\">\n                      <input type=\"file\" onChange={(e) => attachFile(task.id, e.target.files[0])} className=\"text-xs\" />\n                      <div className=\"flex flex-wrap gap-1 mt-1\">\n                        {task.attachments.map((a, i) => (\n                          <a key={i} href={a.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"attachment-link\">{a.name}</a>\n                        ))}\n                      </div>\n                    </div>\n                    {/* History/Activity Log */}\n                    <button className=\"history-btn\" onClick={() => setShowHistoryTask(task.id)}>View History</button>\n                    {/* Dependencies */}\n                    {task.dependencies.length > 0 && (\n                      <div className=\"dependencies\">Depends on: {task.dependencies.join(\", \")}</div>\n                    )}\n                  </div>\n                ))}\n                {/* Add new custom status column */}\n                {status === \"Completed\" && customStatusInput !== null && (\n                  <div className=\"mt-2\">\n                    <input\n                      type=\"text\"\n                      value={customStatusInput}\n                      onChange={(e) => setCustomStatusInput(e.target.value)}\n                      placeholder=\"Add new status\"\n                      className=\"border px-2 py-1 rounded text-xs\"\n                    />\n                    <button className=\"ml-2 px-2 py-1 rounded bg-blue-200 text-xs\" onClick={addCustomStatus}>Add</button>\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        </>\n      );\n    }\n    // Team, Chat, Automations tabs placeholder\n    return <div className=\"empty-state\">Coming soon!</div>;\n  };\n\n  // Main layout: using dashboard layout\n  return (\n    <div className=\"dashboard\">\n      <Sidebar />\n      <div style={{flex:1}}>\n        <Topbar\n          user={user}\n          userPhoto={userPhoto}\n          notifications={notifications}\n          onProfile={handleProfileNavigation}\n          onLogout={handleLogout}\n        />\n        <main className=\"main-content\" style={{paddingTop:'80px'}}>\n          {!selectedProjectId ? (\n            <div className=\"all-projects-view\">\n              <div className=\"dashboard-header\">\n                <h1>All Projects</h1>\n                <button className=\"create-btn\">\n                  <i className=\"fas fa-plus\"></i> New Project\n                </button>\n              </div>\n              <div className=\"dashboard-stats\">\n                <div className=\"stat-card\">\n                  <i className=\"fas fa-project-diagram\"></i>\n                  <div className=\"stat-info\">\n                    <h3>Total Projects</h3>\n                    <p>{projects.length}</p>\n                  </div>\n                </div>\n                <div className=\"stat-card\">\n                  <i className=\"fas fa-tasks\"></i>\n                  <div className=\"stat-info\">\n                    <h3>Active Tasks</h3>\n                    <p>{tasks.filter(t => t.status !== \"Completed\").length}</p>\n                  </div>\n                </div>\n                <div className=\"stat-card\">\n                  <i className=\"fas fa-check-circle\"></i>\n                  <div className=\"stat-info\">\n                    <h3>Completed</h3>\n                    <p>{tasks.filter(t => t.status === \"Completed\").length}</p>\n                  </div>\n                </div>\n              </div>\n              <div className=\"dashboard-sections\">\n                <section className=\"section\">\n                  <div className=\"section-header\">\n                    <h2>Recent Projects</h2>\n                    <button className=\"add-btn\">\n                      <i className=\"fas fa-plus\"></i> Add Project\n                    </button>\n                  </div>\n                  <div className=\"projects-grid\">\n                    {projects.map(project => (\n                      <div\n                        key={project.id}\n                        className=\"project-card\"\n                        onClick={() => setSelectedProjectId(project.id)}\n                      >\n                        <div className=\"project-header\">\n                          <h3>{project.name}</h3>\n                          <button className=\"delete-btn\">\n                            <i className=\"fas fa-trash\"></i>\n                          </button>\n                        </div>\n                        <p>{project.description}</p>\n                        <div className=\"project-members\">\n                          <div className=\"member-list\">\n                            {users.slice(0, 3).map(user => (\n                              <div key={user.id} className=\"member-avatar\">\n                                <img src={user.avatar} alt={user.name} />\n                              </div>\n                            ))}\n                          </div>\n                          <span className=\"project-status\">{project.status}</span>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </section>\n              </div>\n            </div>\n          ) : (\n            <div className=\"project-details-page\">\n              <button className=\"back-btn\" onClick={() => setSelectedProjectId(null)}>\n                <i className=\"fas fa-arrow-left\"></i> Back to Projects\n              </button>\n              {/* Top Stats */}\n              <div className=\"project-stats-cards\">\n                <div className=\"project-stat-card\">\n                  <div className=\"stat-icon stat-tasks\"><i className=\"fas fa-tasks\"></i></div>\n                  <div>\n                    <div className=\"stat-title\">Total Tasks</div>\n                    <div className=\"stat-value\">{totalTasks}</div>\n                  </div>\n                </div>\n                <div className=\"project-stat-card\">\n                  <div className=\"stat-icon stat-completed\"><i className=\"fas fa-check-circle\"></i></div>\n                  <div>\n                    <div className=\"stat-title\">Completed</div>\n                    <div className=\"stat-value\">{completedTasks}</div>\n                  </div>\n                </div>\n                <div className=\"project-stat-card\">\n                  <div className=\"stat-icon stat-inprogress\"><i className=\"fas fa-sync-alt\"></i></div>\n                  <div>\n                    <div className=\"stat-title\">In Progress</div>\n                    <div className=\"stat-value\">{inProgressTasks}</div>\n                  </div>\n                </div>\n              </div>\n              {/* Progress Bar */}\n              <div className=\"project-progress-bar-wrap\">\n                <div className=\"project-progress-label\">Project Progress</div>\n                <div className=\"project-progress-bar\">\n                  <div className=\"project-progress-bar-inner\" style={{ width: `${progress}%` }}></div>\n                </div>\n                <div className=\"project-progress-percent\">{progress}%</div>\n              </div>\n              {/* Tabs */}\n              <div className=\"project-tabs\">\n                {['Tasks', 'Team', 'Chat', 'Automations'].map(tab => (\n                  <button\n                    key={tab}\n                    className={`project-tab${activeTab === tab ? ' active' : ''}`}\n                    onClick={() => setActiveTab(tab)}\n                  >\n                    {tab}{tab === 'Team' ? ' (1)' : ''}\n                  </button>\n                ))}\n              </div>\n              {/* Tab Content */}\n              <div className=\"project-tab-content\">\n                {renderTabs()}\n              </div>\n              {/* Task History Modal */}\n              {showHistoryTask && (\n                <div className=\"history-modal-bg\">\n                  <div className=\"history-modal\">\n                    <h2>Task History</h2>\n                    <ul>\n                      {projectTasks.find((t) => t.id === showHistoryTask)?.history.map((h, i) => (\n                        <li key={i}>\n                          <b>{users.find((u) => u.id === h.user)?.name || \"User\"}</b> {h.action} <span style={{ color: '#888' }}>{new Date(h.at).toLocaleString()}</span>\n                        </li>\n                      ))}\n                    </ul>\n                    <button className=\"close-btn\" onClick={() => setShowHistoryTask(null)}>Close</button>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </main>\n      </div>\n    </div>\n  );\n}\n\nexport default Projects; "],"mappings":"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"},"metadata":{},"sourceType":"module"}