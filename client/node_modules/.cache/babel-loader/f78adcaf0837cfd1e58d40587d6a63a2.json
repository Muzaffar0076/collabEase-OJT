{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\collabEase-OJT\\\\client\\\\src\\\\pages\\\\Projects.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport io from \"socket.io-client\";\nimport Sidebar from '../components/Sidebar';\nimport Topbar from '../components/Topbar';\nimport '../styles/Topbar.css'; // import { useSelector } from 'react-redux'; // For user info if needed\n// Mock users\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst users = [{\n  id: 1,\n  name: \"Rahul\",\n  avatar: \"https://ui-avatars.com/api/?name=Rahul\"\n}, {\n  id: 2,\n  name: \"Sanjay\",\n  avatar: \"https://ui-avatars.com/api/?name=Sanjay\"\n}, {\n  id: 3,\n  name: \"Priya\",\n  avatar: \"https://ui-avatars.com/api/?name=Priya\"\n}]; // Mock projects\n\nconst mockProjects = [{\n  id: 101,\n  name: \"Website Redesign\",\n  description: \"Revamp the company website.\",\n  due: \"2024-07-01\",\n  status: \"Active\"\n}, {\n  id: 102,\n  name: \"Mobile App\",\n  description: \"Build the new mobile app.\",\n  due: \"2024-08-15\",\n  status: \"Planning\"\n}, {\n  id: 103,\n  name: \"Marketing Campaign\",\n  description: \"Launch summer campaign.\",\n  due: \"2024-06-20\",\n  status: \"Active\"\n}]; // Mock tasks\n\nconst initialTasks = [{\n  id: 1,\n  projectId: 101,\n  title: \"Design UI\",\n  status: \"To Do\",\n  tags: [\"#frontend\", \"#design\"],\n  assignedTo: 1,\n  due: \"2024-06-10\",\n  pinned: false,\n  subtasks: [{\n    id: 1,\n    title: \"Header\",\n    done: true\n  }, {\n    id: 2,\n    title: \"Footer\",\n    done: false\n  }],\n  dependencies: [],\n  attachments: [],\n  history: [{\n    user: 1,\n    action: \"created\",\n    at: \"2024-06-01T10:00\"\n  }, {\n    user: 2,\n    action: \"moved to To Do\",\n    at: \"2024-06-01T10:05\"\n  }],\n  customStatus: null\n}, {\n  id: 2,\n  projectId: 101,\n  title: \"Setup Backend\",\n  status: \"In Progress\",\n  tags: [\"#backend\", \"#urgent\"],\n  assignedTo: 2,\n  due: \"2024-06-09\",\n  pinned: true,\n  subtasks: [],\n  dependencies: [1],\n  attachments: [],\n  history: [{\n    user: 2,\n    action: \"created\",\n    at: \"2024-06-01T10:10\"\n  }, {\n    user: 2,\n    action: \"moved to In Progress\",\n    at: \"2024-06-02T09:00\"\n  }],\n  customStatus: null\n}, {\n  id: 3,\n  projectId: 102,\n  title: \"Write Docs\",\n  status: \"Completed\",\n  tags: [\"#docs\"],\n  assignedTo: null,\n  due: \"2024-06-08\",\n  pinned: false,\n  subtasks: [],\n  dependencies: [],\n  attachments: [],\n  history: [{\n    user: 3,\n    action: \"created\",\n    at: \"2024-06-01T10:20\"\n  }, {\n    user: 3,\n    action: \"moved to Done\",\n    at: \"2024-06-03T12:00\"\n  }],\n  customStatus: null\n}];\nconst defaultStatuses = [\"To Do\", \"In Progress\", \"Completed\"];\nconst socket = io(\"http://localhost:5000\"); // Adjust backend URL as needed\n\nfunction Projects(_ref) {\n  _s();\n\n  var _projectTasks$find;\n\n  let {\n    user,\n    setUser\n  } = _ref;\n  const [projects] = useState(mockProjects);\n  const [selectedProjectId, setSelectedProjectId] = useState(null);\n  const [tasks, setTasks] = useState(initialTasks);\n  const [statuses, setStatuses] = useState(defaultStatuses);\n  const [filterStatus, setFilterStatus] = useState(\"All\");\n  const [filterTag, setFilterTag] = useState(null);\n  const [filterUser, setFilterUser] = useState(null);\n  const [showStarred, setShowStarred] = useState(false);\n  const [showHistoryTask, setShowHistoryTask] = useState(null);\n  const [customStatusInput, setCustomStatusInput] = useState(\"\");\n  const [notifications, setNotifications] = useState([]);\n  const [activeTab, setActiveTab] = useState(\"Tasks\");\n  const [search, setSearch] = useState(\"\");\n  const [userPhoto, setUserPhoto] = useState(null); // Real-time notifications (Socket.io)\n\n  useEffect(() => {\n    socket.on(\"task-update\", msg => {\n      setNotifications(prev => [...prev, msg]);\n      setTimeout(() => setNotifications(prev => prev.slice(1)), 4000);\n    });\n    return () => socket.off(\"task-update\");\n  }, []); // Fetch user profile photo\n\n  useEffect(() => {\n    const fetchUserPhoto = async () => {\n      try {\n        const response = await fetch('/api/users/profile', {\n          credentials: 'include'\n        });\n\n        if (response.ok) {\n          const data = await response.json();\n          setUserPhoto(data.photo || null);\n        }\n      } catch (error) {\n        console.error('Error fetching user photo:', error);\n      }\n    };\n\n    fetchUserPhoto();\n  }, []); // Navigation handlers\n\n  const handleProfileNavigation = () => {\n    // Optionally close dropdowns if you have them\n    window.location.href = '/profile';\n  };\n\n  const handleLogout = async () => {\n    if (setUser) setUser(null);\n    window.location.href = '/login';\n\n    try {\n      await fetch(\"http://localhost:5000/auth/logout\", {\n        credentials: 'include',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n    } catch (error) {\n      console.error(\"Logout error:\", error);\n    }\n  }; // Filter tasks for selected project\n\n\n  const projectTasks = selectedProjectId ? tasks.filter(t => t.projectId === selectedProjectId) : []; // Stats\n\n  const totalTasks = projectTasks.length;\n  const completedTasks = projectTasks.filter(t => t.status === \"Completed\").length;\n  const inProgressTasks = projectTasks.filter(t => t.status === \"In Progress\").length;\n  const progress = totalTasks ? Math.round(completedTasks / totalTasks * 100) : 0; // Filtering\n\n  const allTags = Array.from(new Set(projectTasks.flatMap(t => t.tags)));\n  let filteredTasks = projectTasks.filter(task => {\n    if (showStarred && !task.pinned) return false;\n    if (filterTag && !task.tags.includes(filterTag)) return false;\n    if (filterUser === \"unassigned\" && task.assignedTo) return false;\n    if (filterUser && filterUser !== \"unassigned\" && task.assignedTo !== filterUser) return false;\n    if (search && !task.title.toLowerCase().includes(search.toLowerCase())) return false;\n    if (filterStatus !== \"All\" && task.status !== filterStatus) return false;\n    return true;\n  }); // Drag and drop handlers\n\n  const onDragStart = (e, id) => {\n    e.dataTransfer.setData(\"id\", id);\n  };\n\n  const onDrop = (e, status) => {\n    const id = e.dataTransfer.getData(\"id\");\n    setTasks(tasks => tasks.map(task => task.id === Number(id) ? { ...task,\n      status,\n      history: [...task.history, {\n        user: 1,\n        action: `moved to ${status}`,\n        at: new Date().toISOString()\n      }]\n    } : task));\n    socket.emit(\"task-update\", `Task #${id} moved to ${status}`);\n  };\n\n  const onDragOver = e => e.preventDefault(); // Add custom status\n\n\n  const addCustomStatus = () => {\n    if (customStatusInput && !statuses.includes(customStatusInput)) {\n      setStatuses([...statuses, customStatusInput]);\n      setCustomStatusInput(\"\");\n    }\n  }; // Pin/unpin task\n\n\n  const togglePin = id => {\n    setTasks(tasks => tasks.map(task => task.id === id ? { ...task,\n      pinned: !task.pinned\n    } : task));\n  }; // Subtask completion\n\n\n  const toggleSubtask = (taskId, subId) => {\n    setTasks(tasks => tasks.map(task => task.id === taskId ? { ...task,\n      subtasks: task.subtasks.map(s => s.id === subId ? { ...s,\n        done: !s.done\n      } : s)\n    } : task));\n  }; // Due date color\n\n\n  const dueColor = due => {\n    const today = new Date().toISOString().slice(0, 10);\n    if (due < today) return \"overdue\";\n    if (due === today) return \"due-today\";\n    return \"future\";\n  }; // File attachment (mock)\n\n\n  const attachFile = (taskId, file) => {\n    setTasks(tasks => tasks.map(task => task.id === taskId ? { ...task,\n      attachments: [...task.attachments, {\n        name: file.name,\n        url: URL.createObjectURL(file)\n      }]\n    } : task));\n  }; // AI Suggestion (mock)\n\n\n  const aiSuggest = title => {\n    if (title.toLowerCase().includes(\"bug\")) return {\n      tag: \"#bug\",\n      due: \"2024-06-12\"\n    };\n    return {};\n  }; // Tabs content\n\n\n  const renderTabs = () => {\n    if (activeTab === \"Tasks\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"project-filters flex items-center gap-2 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `add-task-btn`,\n            children: \"+ Add Task\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `filter-btn${filterStatus === \"All\" ? \" active\" : \"\"}`,\n            onClick: () => setFilterStatus(\"All\"),\n            children: \"All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), statuses.map(status => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `filter-btn${filterStatus === status ? \" active\" : \"\"}`,\n            onClick: () => setFilterStatus(status),\n            children: status\n          }, status, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"task-search\",\n            placeholder: \"Search tasks...\",\n            value: search,\n            onChange: e => setSearch(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kanban-board\",\n          children: statuses.map(status => /*#__PURE__*/_jsxDEV(\"div\", {\n            onDrop: e => onDrop(e, status),\n            onDragOver: onDragOver,\n            className: \"kanban-column\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"kanban-count\",\n                children: filteredTasks.filter(t => t.status === status).length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 17\n            }, this), filteredTasks.filter(task => task.status === status).length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"empty-state\",\n              children: \"No tasks\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 19\n            }, this), filteredTasks.filter(task => task.status === status).map(task => {\n              var _users$find;\n\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                draggable: true,\n                onDragStart: e => onDragStart(e, task.id),\n                className: `kanban-task${task.pinned ? ' pinned' : ''} ${dueColor(task.due)}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"task-title\",\n                    children: task.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: `starred-btn${task.pinned ? '' : ' inactive'}`,\n                    onClick: () => togglePin(task.id),\n                    children: task.pinned ? \"⭐\" : \"☆\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"task-tags\",\n                  children: task.tags.map(tag => /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"tag-chip\",\n                    children: tag\n                  }, tag, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"task-meta\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"task-assigned\",\n                    children: task.assignedTo ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: (_users$find = users.find(u => u.id === task.assignedTo)) === null || _users$find === void 0 ? void 0 : _users$find.avatar,\n                      alt: \"avatar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 312,\n                      columnNumber: 27\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-400\",\n                      children: \"Unassigned\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 314,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"task-due\",\n                    children: [\"Due: \", task.due]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 21\n                }, this), task.subtasks.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"subtasks\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs font-semibold mb-1\",\n                    children: \"Subtasks\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"subtasks-list\",\n                    children: task.subtasks.map(s => /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"subtask-label\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        checked: s.done,\n                        onChange: () => toggleSubtask(task.id, s.id)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 326,\n                        columnNumber: 31\n                      }, this), s.title]\n                    }, s.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"subtask-progress\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"subtask-progress-bar\",\n                      style: {\n                        width: `${task.subtasks.filter(s => s.done).length / task.subtasks.length * 100}%`\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 332,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"attachments\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    onChange: e => attachFile(task.id, e.target.files[0]),\n                    className: \"text-xs\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-wrap gap-1 mt-1\",\n                    children: task.attachments.map((a, i) => /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: a.url,\n                      target: \"_blank\",\n                      rel: \"noopener noreferrer\",\n                      className: \"attachment-link\",\n                      children: a.name\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 344,\n                      columnNumber: 27\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"history-btn\",\n                  onClick: () => setShowHistoryTask(task.id),\n                  children: \"View History\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 21\n                }, this), task.dependencies.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"dependencies\",\n                  children: [\"Depends on: \", task.dependencies.join(\", \")]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 23\n                }, this)]\n              }, task.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 19\n              }, this);\n            }), status === \"Completed\" && customStatusInput !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: customStatusInput,\n                onChange: e => setCustomStatusInput(e.target.value),\n                placeholder: \"Add new status\",\n                className: \"border px-2 py-1 rounded text-xs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"ml-2 px-2 py-1 rounded bg-blue-200 text-xs\",\n                onClick: addCustomStatus,\n                children: \"Add\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 19\n            }, this)]\n          }, status, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    } // Team, Chat, Automations tabs placeholder\n\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty-state\",\n      children: \"Coming soon!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 12\n    }, this);\n  }; // Main layout: using dashboard layout\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(Topbar, {\n        user: user,\n        userPhoto: userPhoto,\n        notifications: notifications,\n        onProfile: handleProfileNavigation,\n        onLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"main-content\",\n        style: {\n          paddingTop: '80px'\n        },\n        children: !selectedProjectId ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"all-projects-view\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"All Projects\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"create-btn\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-plus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 19\n              }, this), \" New Project\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-stats\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-project-diagram\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Total Projects\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: projects.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-tasks\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Active Tasks\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: tasks.filter(t => t.status !== \"Completed\").length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-check-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Completed\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: tasks.filter(t => t.status === \"Completed\").length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-sections\",\n            children: /*#__PURE__*/_jsxDEV(\"section\", {\n              className: \"section\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"section-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: \"Recent Projects\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 426,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"add-btn\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-plus\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 428,\n                    columnNumber: 23\n                  }, this), \" Add Project\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"projects-grid\",\n                children: projects.map(project => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"project-card\",\n                  onClick: () => setSelectedProjectId(project.id),\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"project-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      children: project.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 439,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"delete-btn\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-trash\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 441,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 440,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 438,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: project.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 444,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"project-members\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"member-list\",\n                      children: users.slice(0, 3).map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"member-avatar\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: user.avatar,\n                          alt: user.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 449,\n                          columnNumber: 33\n                        }, this)\n                      }, user.id, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 448,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 446,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"project-status\",\n                      children: project.status\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 453,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 445,\n                    columnNumber: 25\n                  }, this)]\n                }, project.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"project-details-page\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"back-btn\",\n            onClick: () => setSelectedProjectId(null),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-arrow-left\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 17\n            }, this), \" Back to Projects\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"project-stats-cards\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"project-stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-icon stat-tasks\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-tasks\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 57\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-title\",\n                  children: \"Total Tasks\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 471,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value\",\n                  children: totalTasks\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"project-stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-icon stat-completed\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-check-circle\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 61\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-title\",\n                  children: \"Completed\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value\",\n                  children: completedTasks\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"project-stat-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-icon stat-inprogress\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-sync-alt\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 62\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-title\",\n                  children: \"In Progress\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value\",\n                  children: inProgressTasks\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"project-progress-bar-wrap\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"project-progress-label\",\n              children: \"Project Progress\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"project-progress-bar\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"project-progress-bar-inner\",\n                style: {\n                  width: `${progress}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"project-progress-percent\",\n              children: [progress, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"project-tabs\",\n            children: ['Tasks', 'Team', 'Chat', 'Automations'].map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `project-tab${activeTab === tab ? ' active' : ''}`,\n              onClick: () => setActiveTab(tab),\n              children: [tab, tab === 'Team' ? ' (1)' : '']\n            }, tab, true, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"project-tab-content\",\n            children: renderTabs()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 15\n          }, this), showHistoryTask && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"history-modal-bg\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"history-modal\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Task History\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: (_projectTasks$find = projectTasks.find(t => t.id === showHistoryTask)) === null || _projectTasks$find === void 0 ? void 0 : _projectTasks$find.history.map((h, i) => {\n                  var _users$find2;\n\n                  return /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: ((_users$find2 = users.find(u => u.id === h.user)) === null || _users$find2 === void 0 ? void 0 : _users$find2.name) || \"User\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 522,\n                      columnNumber: 27\n                    }, this), \" \", h.action, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        color: '#888'\n                      },\n                      children: new Date(h.at).toLocaleString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 522,\n                      columnNumber: 98\n                    }, this)]\n                  }, i, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"close-btn\",\n                onClick: () => setShowHistoryTask(null),\n                children: \"Close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 381,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Projects, \"P/Ysq+nRpSOeNu9vxJcsFe19xdg=\");\n\n_c = Projects;\nexport default Projects;\n\nvar _c;\n\n$RefreshReg$(_c, \"Projects\");","map":{"version":3,"names":["React","useState","useEffect","io","Sidebar","Topbar","users","id","name","avatar","mockProjects","description","due","status","initialTasks","projectId","title","tags","assignedTo","pinned","subtasks","done","dependencies","attachments","history","user","action","at","customStatus","defaultStatuses","socket","Projects","setUser","projects","selectedProjectId","setSelectedProjectId","tasks","setTasks","statuses","setStatuses","filterStatus","setFilterStatus","filterTag","setFilterTag","filterUser","setFilterUser","showStarred","setShowStarred","showHistoryTask","setShowHistoryTask","customStatusInput","setCustomStatusInput","notifications","setNotifications","activeTab","setActiveTab","search","setSearch","userPhoto","setUserPhoto","on","msg","prev","setTimeout","slice","off","fetchUserPhoto","response","fetch","credentials","ok","data","json","photo","error","console","handleProfileNavigation","window","location","href","handleLogout","headers","projectTasks","filter","t","totalTasks","length","completedTasks","inProgressTasks","progress","Math","round","allTags","Array","from","Set","flatMap","filteredTasks","task","includes","toLowerCase","onDragStart","e","dataTransfer","setData","onDrop","getData","map","Number","Date","toISOString","emit","onDragOver","preventDefault","addCustomStatus","togglePin","toggleSubtask","taskId","subId","s","dueColor","today","attachFile","file","url","URL","createObjectURL","aiSuggest","tag","renderTabs","target","value","find","u","width","files","a","i","join","flex","paddingTop","project","tab","h","color","toLocaleString"],"sources":["C:/Users/DELL/Desktop/collabEase-OJT/client/src/pages/Projects.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport Sidebar from '../components/Sidebar';\r\nimport Topbar from '../components/Topbar';\r\nimport '../styles/Topbar.css';\r\n// import { useSelector } from 'react-redux'; // For user info if needed\r\n\r\n// Mock users\r\nconst users = [\r\n  { id: 1, name: \"Rahul\", avatar: \"https://ui-avatars.com/api/?name=Rahul\" },\r\n  { id: 2, name: \"Sanjay\", avatar: \"https://ui-avatars.com/api/?name=Sanjay\" },\r\n  { id: 3, name: \"Priya\", avatar: \"https://ui-avatars.com/api/?name=Priya\" },\r\n];\r\n\r\n// Mock projects\r\nconst mockProjects = [\r\n  { id: 101, name: \"Website Redesign\", description: \"Revamp the company website.\", due: \"2024-07-01\", status: \"Active\" },\r\n  { id: 102, name: \"Mobile App\", description: \"Build the new mobile app.\", due: \"2024-08-15\", status: \"Planning\" },\r\n  { id: 103, name: \"Marketing Campaign\", description: \"Launch summer campaign.\", due: \"2024-06-20\", status: \"Active\" },\r\n];\r\n\r\n// Mock tasks\r\nconst initialTasks = [\r\n  {\r\n    id: 1,\r\n    projectId: 101,\r\n    title: \"Design UI\",\r\n    status: \"To Do\",\r\n    tags: [\"#frontend\", \"#design\"],\r\n    assignedTo: 1,\r\n    due: \"2024-06-10\",\r\n    pinned: false,\r\n    subtasks: [\r\n      { id: 1, title: \"Header\", done: true },\r\n      { id: 2, title: \"Footer\", done: false },\r\n    ],\r\n    dependencies: [],\r\n    attachments: [],\r\n    history: [\r\n      { user: 1, action: \"created\", at: \"2024-06-01T10:00\" },\r\n      { user: 2, action: \"moved to To Do\", at: \"2024-06-01T10:05\" },\r\n    ],\r\n    customStatus: null,\r\n  },\r\n  {\r\n    id: 2,\r\n    projectId: 101,\r\n    title: \"Setup Backend\",\r\n    status: \"In Progress\",\r\n    tags: [\"#backend\", \"#urgent\"],\r\n    assignedTo: 2,\r\n    due: \"2024-06-09\",\r\n    pinned: true,\r\n    subtasks: [],\r\n    dependencies: [1],\r\n    attachments: [],\r\n    history: [\r\n      { user: 2, action: \"created\", at: \"2024-06-01T10:10\" },\r\n      { user: 2, action: \"moved to In Progress\", at: \"2024-06-02T09:00\" },\r\n    ],\r\n    customStatus: null,\r\n  },\r\n  {\r\n    id: 3,\r\n    projectId: 102,\r\n    title: \"Write Docs\",\r\n    status: \"Completed\",\r\n    tags: [\"#docs\"],\r\n    assignedTo: null,\r\n    due: \"2024-06-08\",\r\n    pinned: false,\r\n    subtasks: [],\r\n    dependencies: [],\r\n    attachments: [],\r\n    history: [\r\n      { user: 3, action: \"created\", at: \"2024-06-01T10:20\" },\r\n      { user: 3, action: \"moved to Done\", at: \"2024-06-03T12:00\" },\r\n    ],\r\n    customStatus: null,\r\n  },\r\n];\r\n\r\nconst defaultStatuses = [\"To Do\", \"In Progress\", \"Completed\"];\r\n\r\nconst socket = io(\"http://localhost:5000\"); // Adjust backend URL as needed\r\n\r\nfunction Projects({ user, setUser }) {\r\n  const [projects] = useState(mockProjects);\r\n  const [selectedProjectId, setSelectedProjectId] = useState(null);\r\n  const [tasks, setTasks] = useState(initialTasks);\r\n  const [statuses, setStatuses] = useState(defaultStatuses);\r\n  const [filterStatus, setFilterStatus] = useState(\"All\");\r\n  const [filterTag, setFilterTag] = useState(null);\r\n  const [filterUser, setFilterUser] = useState(null);\r\n  const [showStarred, setShowStarred] = useState(false);\r\n  const [showHistoryTask, setShowHistoryTask] = useState(null);\r\n  const [customStatusInput, setCustomStatusInput] = useState(\"\");\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [activeTab, setActiveTab] = useState(\"Tasks\");\r\n  const [search, setSearch] = useState(\"\");\r\n  const [userPhoto, setUserPhoto] = useState(null);\r\n\r\n  // Real-time notifications (Socket.io)\r\n  useEffect(() => {\r\n    socket.on(\"task-update\", (msg) => {\r\n      setNotifications((prev) => [...prev, msg]);\r\n      setTimeout(() => setNotifications((prev) => prev.slice(1)), 4000);\r\n    });\r\n    return () => socket.off(\"task-update\");\r\n  }, []);\r\n\r\n  // Fetch user profile photo\r\n  useEffect(() => {\r\n    const fetchUserPhoto = async () => {\r\n      try {\r\n        const response = await fetch('/api/users/profile', {\r\n          credentials: 'include'\r\n        });\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setUserPhoto(data.photo || null);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching user photo:', error);\r\n      }\r\n    };\r\n    fetchUserPhoto();\r\n  }, []);\r\n\r\n  // Navigation handlers\r\n  const handleProfileNavigation = () => {\r\n    // Optionally close dropdowns if you have them\r\n    window.location.href = '/profile';\r\n  };\r\n  const handleLogout = async () => {\r\n    if (setUser) setUser(null);\r\n    window.location.href = '/login';\r\n    try {\r\n      await fetch(\"http://localhost:5000/auth/logout\", {\r\n        credentials: 'include',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Logout error:\", error);\r\n    }\r\n  };\r\n\r\n  // Filter tasks for selected project\r\n  const projectTasks = selectedProjectId\r\n    ? tasks.filter(t => t.projectId === selectedProjectId)\r\n    : [];\r\n\r\n  // Stats\r\n  const totalTasks = projectTasks.length;\r\n  const completedTasks = projectTasks.filter(t => t.status === \"Completed\").length;\r\n  const inProgressTasks = projectTasks.filter(t => t.status === \"In Progress\").length;\r\n  const progress = totalTasks ? Math.round((completedTasks / totalTasks) * 100) : 0;\r\n\r\n  // Filtering\r\n  const allTags = Array.from(new Set(projectTasks.flatMap((t) => t.tags)));\r\n  let filteredTasks = projectTasks.filter((task) => {\r\n    if (showStarred && !task.pinned) return false;\r\n    if (filterTag && !task.tags.includes(filterTag)) return false;\r\n    if (filterUser === \"unassigned\" && task.assignedTo) return false;\r\n    if (filterUser && filterUser !== \"unassigned\" && task.assignedTo !== filterUser) return false;\r\n    if (search && !task.title.toLowerCase().includes(search.toLowerCase())) return false;\r\n    if (filterStatus !== \"All\" && task.status !== filterStatus) return false;\r\n    return true;\r\n  });\r\n\r\n  // Drag and drop handlers\r\n  const onDragStart = (e, id) => {\r\n    e.dataTransfer.setData(\"id\", id);\r\n  };\r\n  const onDrop = (e, status) => {\r\n    const id = e.dataTransfer.getData(\"id\");\r\n    setTasks((tasks) =>\r\n      tasks.map((task) =>\r\n        task.id === Number(id)\r\n          ? {\r\n              ...task,\r\n              status,\r\n              history: [\r\n                ...task.history,\r\n                { user: 1, action: `moved to ${status}`, at: new Date().toISOString() },\r\n              ],\r\n            }\r\n          : task\r\n      )\r\n    );\r\n    socket.emit(\"task-update\", `Task #${id} moved to ${status}`);\r\n  };\r\n  const onDragOver = (e) => e.preventDefault();\r\n\r\n  // Add custom status\r\n  const addCustomStatus = () => {\r\n    if (customStatusInput && !statuses.includes(customStatusInput)) {\r\n      setStatuses([...statuses, customStatusInput]);\r\n      setCustomStatusInput(\"\");\r\n    }\r\n  };\r\n\r\n  // Pin/unpin task\r\n  const togglePin = (id) => {\r\n    setTasks((tasks) =>\r\n      tasks.map((task) =>\r\n        task.id === id ? { ...task, pinned: !task.pinned } : task\r\n      )\r\n    );\r\n  };\r\n\r\n  // Subtask completion\r\n  const toggleSubtask = (taskId, subId) => {\r\n    setTasks((tasks) =>\r\n      tasks.map((task) =>\r\n        task.id === taskId\r\n          ? {\r\n              ...task,\r\n              subtasks: task.subtasks.map((s) =>\r\n                s.id === subId ? { ...s, done: !s.done } : s\r\n              ),\r\n            }\r\n          : task\r\n      )\r\n    );\r\n  };\r\n\r\n  // Due date color\r\n  const dueColor = (due) => {\r\n    const today = new Date().toISOString().slice(0, 10);\r\n    if (due < today) return \"overdue\";\r\n    if (due === today) return \"due-today\";\r\n    return \"future\";\r\n  };\r\n\r\n  // File attachment (mock)\r\n  const attachFile = (taskId, file) => {\r\n    setTasks((tasks) =>\r\n      tasks.map((task) =>\r\n        task.id === taskId\r\n          ? {\r\n              ...task,\r\n              attachments: [...task.attachments, { name: file.name, url: URL.createObjectURL(file) }],\r\n            }\r\n          : task\r\n      )\r\n    );\r\n  };\r\n\r\n  // AI Suggestion (mock)\r\n  const aiSuggest = (title) => {\r\n    if (title.toLowerCase().includes(\"bug\")) return { tag: \"#bug\", due: \"2024-06-12\" };\r\n    return {};\r\n  };\r\n\r\n  // Tabs content\r\n  const renderTabs = () => {\r\n    if (activeTab === \"Tasks\") {\r\n      return (\r\n        <>\r\n          <div className=\"project-filters flex items-center gap-2 mb-4\">\r\n            <button className={`add-task-btn`}>+ Add Task</button>\r\n            <button className={`filter-btn${filterStatus === \"All\" ? \" active\" : \"\"}`} onClick={() => setFilterStatus(\"All\")}>All</button>\r\n            {statuses.map(status => (\r\n              <button key={status} className={`filter-btn${filterStatus === status ? \" active\" : \"\"}`} onClick={() => setFilterStatus(status)}>{status}</button>\r\n            ))}\r\n            <input\r\n              type=\"text\"\r\n              className=\"task-search\"\r\n              placeholder=\"Search tasks...\"\r\n              value={search}\r\n              onChange={e => setSearch(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"kanban-board\">\r\n            {statuses.map((status) => (\r\n              <div\r\n                key={status}\r\n                onDrop={(e) => onDrop(e, status)}\r\n                onDragOver={onDragOver}\r\n                className=\"kanban-column\"\r\n              >\r\n                <div className=\"flex items-center gap-2 mb-2\">\r\n                  <h2>{status}</h2>\r\n                  <span className=\"kanban-count\">{filteredTasks.filter(t => t.status === status).length}</span>\r\n                </div>\r\n                {filteredTasks.filter((task) => task.status === status).length === 0 && (\r\n                  <div className=\"empty-state\">No tasks</div>\r\n                )}\r\n                {filteredTasks.filter((task) => task.status === status).map((task) => (\r\n                  <div\r\n                    key={task.id}\r\n                    draggable\r\n                    onDragStart={(e) => onDragStart(e, task.id)}\r\n                    className={`kanban-task${task.pinned ? ' pinned' : ''} ${dueColor(task.due)}`}\r\n                  >\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"task-title\">{task.title}</div>\r\n                      <button className={`starred-btn${task.pinned ? '' : ' inactive'}`} onClick={() => togglePin(task.id)}>{task.pinned ? \"⭐\" : \"☆\"}</button>\r\n                    </div>\r\n                    <div className=\"task-tags\">\r\n                      {task.tags.map((tag) => (\r\n                        <span key={tag} className=\"tag-chip\">{tag}</span>\r\n                      ))}\r\n                    </div>\r\n                    <div className=\"task-meta\">\r\n                      <div className=\"task-assigned\">\r\n                        {task.assignedTo ? (\r\n                          <img src={users.find((u) => u.id === task.assignedTo)?.avatar} alt=\"avatar\" />\r\n                        ) : (\r\n                          <span className=\"text-xs text-gray-400\">Unassigned</span>\r\n                        )}\r\n                      </div>\r\n                      <span className=\"task-due\">Due: {task.due}</span>\r\n                    </div>\r\n                    {/* Subtasks */}\r\n                    {task.subtasks.length > 0 && (\r\n                      <div className=\"subtasks\">\r\n                        <div className=\"text-xs font-semibold mb-1\">Subtasks</div>\r\n                        <div className=\"subtasks-list\">\r\n                          {task.subtasks.map((s) => (\r\n                            <label key={s.id} className=\"subtask-label\">\r\n                              <input type=\"checkbox\" checked={s.done} onChange={() => toggleSubtask(task.id, s.id)} />\r\n                              {s.title}\r\n                            </label>\r\n                          ))}\r\n                        </div>\r\n                        <div className=\"subtask-progress\">\r\n                          <div\r\n                            className=\"subtask-progress-bar\"\r\n                            style={{ width: `${(task.subtasks.filter((s) => s.done).length / task.subtasks.length) * 100}%` }}\r\n                          ></div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    {/* Attachments */}\r\n                    <div className=\"attachments\">\r\n                      <input type=\"file\" onChange={(e) => attachFile(task.id, e.target.files[0])} className=\"text-xs\" />\r\n                      <div className=\"flex flex-wrap gap-1 mt-1\">\r\n                        {task.attachments.map((a, i) => (\r\n                          <a key={i} href={a.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"attachment-link\">{a.name}</a>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                    {/* History/Activity Log */}\r\n                    <button className=\"history-btn\" onClick={() => setShowHistoryTask(task.id)}>View History</button>\r\n                    {/* Dependencies */}\r\n                    {task.dependencies.length > 0 && (\r\n                      <div className=\"dependencies\">Depends on: {task.dependencies.join(\", \")}</div>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n                {/* Add new custom status column */}\r\n                {status === \"Completed\" && customStatusInput !== null && (\r\n                  <div className=\"mt-2\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={customStatusInput}\r\n                      onChange={(e) => setCustomStatusInput(e.target.value)}\r\n                      placeholder=\"Add new status\"\r\n                      className=\"border px-2 py-1 rounded text-xs\"\r\n                    />\r\n                    <button className=\"ml-2 px-2 py-1 rounded bg-blue-200 text-xs\" onClick={addCustomStatus}>Add</button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </>\r\n      );\r\n    }\r\n    // Team, Chat, Automations tabs placeholder\r\n    return <div className=\"empty-state\">Coming soon!</div>;\r\n  };\r\n\r\n  // Main layout: using dashboard layout\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <Sidebar />\r\n      <div style={{flex:1}}>\r\n        <Topbar\r\n          user={user}\r\n          userPhoto={userPhoto}\r\n          notifications={notifications}\r\n          onProfile={handleProfileNavigation}\r\n          onLogout={handleLogout}\r\n        />\r\n        <main className=\"main-content\" style={{paddingTop:'80px'}}>\r\n          {!selectedProjectId ? (\r\n            <div className=\"all-projects-view\">\r\n              <div className=\"dashboard-header\">\r\n                <h1>All Projects</h1>\r\n                <button className=\"create-btn\">\r\n                  <i className=\"fas fa-plus\"></i> New Project\r\n                </button>\r\n              </div>\r\n              <div className=\"dashboard-stats\">\r\n                <div className=\"stat-card\">\r\n                  <i className=\"fas fa-project-diagram\"></i>\r\n                  <div className=\"stat-info\">\r\n                    <h3>Total Projects</h3>\r\n                    <p>{projects.length}</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"stat-card\">\r\n                  <i className=\"fas fa-tasks\"></i>\r\n                  <div className=\"stat-info\">\r\n                    <h3>Active Tasks</h3>\r\n                    <p>{tasks.filter(t => t.status !== \"Completed\").length}</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"stat-card\">\r\n                  <i className=\"fas fa-check-circle\"></i>\r\n                  <div className=\"stat-info\">\r\n                    <h3>Completed</h3>\r\n                    <p>{tasks.filter(t => t.status === \"Completed\").length}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"dashboard-sections\">\r\n                <section className=\"section\">\r\n                  <div className=\"section-header\">\r\n                    <h2>Recent Projects</h2>\r\n                    <button className=\"add-btn\">\r\n                      <i className=\"fas fa-plus\"></i> Add Project\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"projects-grid\">\r\n                    {projects.map(project => (\r\n                      <div\r\n                        key={project.id}\r\n                        className=\"project-card\"\r\n                        onClick={() => setSelectedProjectId(project.id)}\r\n                      >\r\n                        <div className=\"project-header\">\r\n                          <h3>{project.name}</h3>\r\n                          <button className=\"delete-btn\">\r\n                            <i className=\"fas fa-trash\"></i>\r\n                          </button>\r\n                        </div>\r\n                        <p>{project.description}</p>\r\n                        <div className=\"project-members\">\r\n                          <div className=\"member-list\">\r\n                            {users.slice(0, 3).map(user => (\r\n                              <div key={user.id} className=\"member-avatar\">\r\n                                <img src={user.avatar} alt={user.name} />\r\n                              </div>\r\n                            ))}\r\n                          </div>\r\n                          <span className=\"project-status\">{project.status}</span>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </section>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"project-details-page\">\r\n              <button className=\"back-btn\" onClick={() => setSelectedProjectId(null)}>\r\n                <i className=\"fas fa-arrow-left\"></i> Back to Projects\r\n              </button>\r\n              {/* Top Stats */}\r\n              <div className=\"project-stats-cards\">\r\n                <div className=\"project-stat-card\">\r\n                  <div className=\"stat-icon stat-tasks\"><i className=\"fas fa-tasks\"></i></div>\r\n                  <div>\r\n                    <div className=\"stat-title\">Total Tasks</div>\r\n                    <div className=\"stat-value\">{totalTasks}</div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"project-stat-card\">\r\n                  <div className=\"stat-icon stat-completed\"><i className=\"fas fa-check-circle\"></i></div>\r\n                  <div>\r\n                    <div className=\"stat-title\">Completed</div>\r\n                    <div className=\"stat-value\">{completedTasks}</div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"project-stat-card\">\r\n                  <div className=\"stat-icon stat-inprogress\"><i className=\"fas fa-sync-alt\"></i></div>\r\n                  <div>\r\n                    <div className=\"stat-title\">In Progress</div>\r\n                    <div className=\"stat-value\">{inProgressTasks}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {/* Progress Bar */}\r\n              <div className=\"project-progress-bar-wrap\">\r\n                <div className=\"project-progress-label\">Project Progress</div>\r\n                <div className=\"project-progress-bar\">\r\n                  <div className=\"project-progress-bar-inner\" style={{ width: `${progress}%` }}></div>\r\n                </div>\r\n                <div className=\"project-progress-percent\">{progress}%</div>\r\n              </div>\r\n              {/* Tabs */}\r\n              <div className=\"project-tabs\">\r\n                {['Tasks', 'Team', 'Chat', 'Automations'].map(tab => (\r\n                  <button\r\n                    key={tab}\r\n                    className={`project-tab${activeTab === tab ? ' active' : ''}`}\r\n                    onClick={() => setActiveTab(tab)}\r\n                  >\r\n                    {tab}{tab === 'Team' ? ' (1)' : ''}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n              {/* Tab Content */}\r\n              <div className=\"project-tab-content\">\r\n                {renderTabs()}\r\n              </div>\r\n              {/* Task History Modal */}\r\n              {showHistoryTask && (\r\n                <div className=\"history-modal-bg\">\r\n                  <div className=\"history-modal\">\r\n                    <h2>Task History</h2>\r\n                    <ul>\r\n                      {projectTasks.find((t) => t.id === showHistoryTask)?.history.map((h, i) => (\r\n                        <li key={i}>\r\n                          <b>{users.find((u) => u.id === h.user)?.name || \"User\"}</b> {h.action} <span style={{ color: '#888' }}>{new Date(h.at).toLocaleString()}</span>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                    <button className=\"close-btn\" onClick={() => setShowHistoryTask(null)}>Close</button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Projects; "],"mappings":"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"},"metadata":{},"sourceType":"module"}