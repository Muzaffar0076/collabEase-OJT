{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\authentication\\\\collabease\\\\client\\\\src\\\\pages\\\\Profile.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport '../styles/Profile.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Profile(_ref) {\n  _s();\n\n  var _user$name, _user$email;\n\n  let {\n    user,\n    setUser\n  } = _ref;\n  const navigate = useNavigate();\n  const [recentActivity, setRecentActivity] = useState([{\n    id: 1,\n    type: 'login',\n    description: 'Logged in from Chrome on Windows',\n    timestamp: '2024-03-20T10:30:00',\n    location: 'New York, USA',\n    device: 'Chrome on Windows'\n  }, {\n    id: 2,\n    type: 'password_change',\n    description: 'Password changed successfully',\n    timestamp: '2024-03-19T15:45:00',\n    location: 'New York, USA',\n    device: 'Chrome on Windows'\n  }, {\n    id: 3,\n    type: 'login',\n    description: 'Logged in from Safari on iPhone',\n    timestamp: '2024-03-18T09:15:00',\n    location: 'New York, USA',\n    device: 'Safari on iPhone'\n  }]);\n  const [loginStats, setLoginStats] = useState({\n    totalLogins: 156,\n    lastLogin: '2024-03-20T10:30:00',\n    activeSessions: 2,\n    loginMethods: {\n      email: 120,\n      google: 25,\n      github: 11\n    }\n  });\n  const [userPhoto, setUserPhoto] = useState(null);\n  const [isDarkTheme, setIsDarkTheme] = useState(false);\n  const [showSecurityModal, setShowSecurityModal] = useState(false);\n  const [securitySettings, setSecuritySettings] = useState({\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: '',\n    twoFactorEnabled: false\n  });\n  useEffect(() => {\n    // Check if user is authenticated\n    if (!user) {\n      navigate('/login');\n      return;\n    } // Load theme preference from localStorage\n\n\n    const savedTheme = localStorage.getItem('theme');\n\n    if (savedTheme) {\n      setIsDarkTheme(savedTheme === 'dark');\n      document.body.classList.toggle('dark-theme', savedTheme === 'dark');\n    } // Fetch user profile photo\n\n\n    const fetchUserPhoto = async () => {\n      try {\n        const response = await axios.get('/api/users/profile', {\n          withCredentials: true\n        });\n\n        if (response.data.photo) {\n          setUserPhoto(response.data.photo);\n        }\n      } catch (error) {\n        console.error('Error fetching user photo:', error);\n      }\n    };\n\n    fetchUserPhoto();\n  }, [user, navigate]);\n\n  const handleThemeToggle = () => {\n    setIsDarkTheme(!isDarkTheme);\n    document.body.classList.toggle('dark-theme');\n    localStorage.setItem('theme', isDarkTheme ? 'light' : 'dark');\n  };\n\n  const handleSecurityUpdate = async e => {\n    e.preventDefault();\n\n    if (securitySettings.newPassword !== securitySettings.confirmPassword) {\n      alert(\"New passwords don't match\");\n      return;\n    }\n\n    try {\n      const response = await axios.post('/api/users/security/update', securitySettings, {\n        withCredentials: true\n      });\n      setShowSecurityModal(false);\n      setSecuritySettings({\n        currentPassword: '',\n        newPassword: '',\n        confirmPassword: '',\n        twoFactorEnabled: securitySettings.twoFactorEnabled\n      }); // Add new activity\n\n      setRecentActivity(prev => [{\n        id: Date.now(),\n        type: 'password_change',\n        description: 'Password changed successfully',\n        timestamp: new Date().toISOString(),\n        location: 'Current Location',\n        device: navigator.userAgent\n      }, ...prev]);\n    } catch (error) {\n      var _error$response, _error$response$data;\n\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to update security settings');\n    }\n  };\n\n  const handleLogoutAllDevices = async () => {\n    try {\n      await axios.post('/api/auth/logout-all', {}, {\n        withCredentials: true\n      });\n      setLoginStats(prev => ({ ...prev,\n        activeSessions: 1\n      })); // Add new activity\n\n      setRecentActivity(prev => [{\n        id: Date.now(),\n        type: 'logout_all',\n        description: 'Logged out from all other devices',\n        timestamp: new Date().toISOString(),\n        location: 'Current Location',\n        device: navigator.userAgent\n      }, ...prev]);\n    } catch (error) {\n      alert('Failed to logout from all devices');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-info\",\n        children: [userPhoto ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: userPhoto,\n          alt: \"Profile\",\n          className: \"profile-image-large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-initial-large\",\n          children: (user === null || user === void 0 ? void 0 : (_user$name = user.name) === null || _user$name === void 0 ? void 0 : _user$name.charAt(0)) || (user === null || user === void 0 ? void 0 : (_user$email = user.email) === null || _user$email === void 0 ? void 0 : _user$email.charAt(0))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: (user === null || user === void 0 ? void 0 : user.name) || 'User'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: user === null || user === void 0 ? void 0 : user.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"icon-button theme-toggle\",\n          onClick: handleThemeToggle,\n          title: isDarkTheme ? \"Switch to Light Mode\" : \"Switch to Dark Mode\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: `fas fa-${isDarkTheme ? 'sun' : 'moon'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/dashboard\",\n          className: \"back-btn\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-arrow-left\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), \"Back to Dashboard\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Recent Activity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"security-btn\",\n            onClick: () => setShowSecurityModal(true),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-shield-alt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this), \"Security Settings\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"activity-list\",\n          children: recentActivity.map(activity => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"activity-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"activity-icon\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: `fas fa-${activity.type === 'login' ? 'sign-in-alt' : activity.type === 'password_change' ? 'key' : activity.type === 'logout_all' ? 'sign-out-alt' : 'circle'}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"activity-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: activity.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activity-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-clock\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 27\n                  }, this), \" \", new Date(activity.timestamp).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-map-marker-alt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 27\n                  }, this), \" \", activity.location]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-desktop\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 27\n                  }, this), \" \", activity.device]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this)]\n          }, activity.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Login Statistics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stats-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-sign-in-alt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Total Logins\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: loginStats.totalLogins\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-clock\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Last Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: new Date(loginStats.lastLogin).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-users\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Active Sessions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: loginStats.activeSessions\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-methods\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Login Methods\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"method-bars\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"method-bar\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bar-container\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bar\",\n                  style: {\n                    width: `${loginStats.loginMethods.email / loginStats.totalLogins * 100}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: loginStats.loginMethods.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"method-bar\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Google\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bar-container\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bar\",\n                  style: {\n                    width: `${loginStats.loginMethods.google / loginStats.totalLogins * 100}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: loginStats.loginMethods.google\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"method-bar\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"GitHub\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bar-container\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bar\",\n                  style: {\n                    width: `${loginStats.loginMethods.github / loginStats.totalLogins * 100}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: loginStats.loginMethods.github\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), showSecurityModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Security Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSecurityUpdate,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"security-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Change Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              placeholder: \"Current Password\",\n              value: securitySettings.currentPassword,\n              onChange: e => setSecuritySettings({ ...securitySettings,\n                currentPassword: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              placeholder: \"New Password\",\n              value: securitySettings.newPassword,\n              onChange: e => setSecuritySettings({ ...securitySettings,\n                newPassword: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              placeholder: \"Confirm New Password\",\n              value: securitySettings.confirmPassword,\n              onChange: e => setSecuritySettings({ ...securitySettings,\n                confirmPassword: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"security-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Two-Factor Authentication\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"toggle-switch\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: securitySettings.twoFactorEnabled,\n                onChange: e => setSecuritySettings({ ...securitySettings,\n                  twoFactorEnabled: e.target.checked\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"toggle-slider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 19\n              }, this), \"Enable 2FA\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"security-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Active Sessions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Current active sessions: \", loginStats.activeSessions]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"danger-btn\",\n              onClick: handleLogoutAllDevices,\n              children: \"Logout from all other devices\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"submit-btn\",\n              children: \"Save Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"cancel-btn\",\n              onClick: () => setShowSecurityModal(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Profile, \"27iAyJ/s7vFVuXUgGCHftpVTsuA=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["useState","useEffect","useNavigate","Link","axios","Profile","user","setUser","navigate","recentActivity","setRecentActivity","id","type","description","timestamp","location","device","loginStats","setLoginStats","totalLogins","lastLogin","activeSessions","loginMethods","email","google","github","userPhoto","setUserPhoto","isDarkTheme","setIsDarkTheme","showSecurityModal","setShowSecurityModal","securitySettings","setSecuritySettings","currentPassword","newPassword","confirmPassword","twoFactorEnabled","savedTheme","localStorage","getItem","document","body","classList","toggle","fetchUserPhoto","response","get","withCredentials","data","photo","error","console","handleThemeToggle","setItem","handleSecurityUpdate","e","preventDefault","alert","post","prev","Date","now","toISOString","navigator","userAgent","message","handleLogoutAllDevices","name","charAt","map","activity","toLocaleString","width","target","value","checked"],"sources":["C:/Users/DELL/Desktop/authentication/collabease/client/src/pages/Profile.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport '../styles/Profile.css';\r\n\r\nfunction Profile({ user, setUser }) {\r\n  const navigate = useNavigate();\r\n  const [recentActivity, setRecentActivity] = useState([\r\n    {\r\n      id: 1,\r\n      type: 'login',\r\n      description: 'Logged in from Chrome on Windows',\r\n      timestamp: '2024-03-20T10:30:00',\r\n      location: 'New York, USA',\r\n      device: 'Chrome on Windows'\r\n    },\r\n    {\r\n      id: 2,\r\n      type: 'password_change',\r\n      description: 'Password changed successfully',\r\n      timestamp: '2024-03-19T15:45:00',\r\n      location: 'New York, USA',\r\n      device: 'Chrome on Windows'\r\n    },\r\n    {\r\n      id: 3,\r\n      type: 'login',\r\n      description: 'Logged in from Safari on iPhone',\r\n      timestamp: '2024-03-18T09:15:00',\r\n      location: 'New York, USA',\r\n      device: 'Safari on iPhone'\r\n    }\r\n  ]);\r\n  const [loginStats, setLoginStats] = useState({\r\n    totalLogins: 156,\r\n    lastLogin: '2024-03-20T10:30:00',\r\n    activeSessions: 2,\r\n    loginMethods: {\r\n      email: 120,\r\n      google: 25,\r\n      github: 11\r\n    }\r\n  });\r\n  const [userPhoto, setUserPhoto] = useState(null);\r\n  const [isDarkTheme, setIsDarkTheme] = useState(false);\r\n  const [showSecurityModal, setShowSecurityModal] = useState(false);\r\n  const [securitySettings, setSecuritySettings] = useState({\r\n    currentPassword: '',\r\n    newPassword: '',\r\n    confirmPassword: '',\r\n    twoFactorEnabled: false\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Check if user is authenticated\r\n    if (!user) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n\r\n    // Load theme preference from localStorage\r\n    const savedTheme = localStorage.getItem('theme');\r\n    if (savedTheme) {\r\n      setIsDarkTheme(savedTheme === 'dark');\r\n      document.body.classList.toggle('dark-theme', savedTheme === 'dark');\r\n    }\r\n\r\n    // Fetch user profile photo\r\n    const fetchUserPhoto = async () => {\r\n      try {\r\n        const response = await axios.get('/api/users/profile', {\r\n          withCredentials: true\r\n        });\r\n        if (response.data.photo) {\r\n          setUserPhoto(response.data.photo);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching user photo:', error);\r\n      }\r\n    };\r\n\r\n    fetchUserPhoto();\r\n  }, [user, navigate]);\r\n\r\n  const handleThemeToggle = () => {\r\n    setIsDarkTheme(!isDarkTheme);\r\n    document.body.classList.toggle('dark-theme');\r\n    localStorage.setItem('theme', isDarkTheme ? 'light' : 'dark');\r\n  };\r\n\r\n  const handleSecurityUpdate = async (e) => {\r\n    e.preventDefault();\r\n    if (securitySettings.newPassword !== securitySettings.confirmPassword) {\r\n      alert(\"New passwords don't match\");\r\n      return;\r\n    }\r\n    try {\r\n      const response = await axios.post('/api/users/security/update', securitySettings, {\r\n        withCredentials: true\r\n      });\r\n      setShowSecurityModal(false);\r\n      setSecuritySettings({\r\n        currentPassword: '',\r\n        newPassword: '',\r\n        confirmPassword: '',\r\n        twoFactorEnabled: securitySettings.twoFactorEnabled\r\n      });\r\n      // Add new activity\r\n      setRecentActivity(prev => [{\r\n        id: Date.now(),\r\n        type: 'password_change',\r\n        description: 'Password changed successfully',\r\n        timestamp: new Date().toISOString(),\r\n        location: 'Current Location',\r\n        device: navigator.userAgent\r\n      }, ...prev]);\r\n    } catch (error) {\r\n      alert(error.response?.data?.message || 'Failed to update security settings');\r\n    }\r\n  };\r\n\r\n  const handleLogoutAllDevices = async () => {\r\n    try {\r\n      await axios.post('/api/auth/logout-all', {}, {\r\n        withCredentials: true\r\n      });\r\n      setLoginStats(prev => ({\r\n        ...prev,\r\n        activeSessions: 1\r\n      }));\r\n      // Add new activity\r\n      setRecentActivity(prev => [{\r\n        id: Date.now(),\r\n        type: 'logout_all',\r\n        description: 'Logged out from all other devices',\r\n        timestamp: new Date().toISOString(),\r\n        location: 'Current Location',\r\n        device: navigator.userAgent\r\n      }, ...prev]);\r\n    } catch (error) {\r\n      alert('Failed to logout from all devices');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"profile-page\">\r\n      <div className=\"profile-header\">\r\n        <div className=\"profile-info\">\r\n          {userPhoto ? (\r\n            <img src={userPhoto} alt=\"Profile\" className=\"profile-image-large\" />\r\n          ) : (\r\n            <div className=\"profile-initial-large\">\r\n              {user?.name?.charAt(0) || user?.email?.charAt(0)}\r\n            </div>\r\n          )}\r\n          <div className=\"profile-details\">\r\n            <h1>{user?.name || 'User'}</h1>\r\n            <p>{user?.email}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"header-actions\">\r\n          <button \r\n            className=\"icon-button theme-toggle\" \r\n            onClick={handleThemeToggle}\r\n            title={isDarkTheme ? \"Switch to Light Mode\" : \"Switch to Dark Mode\"}\r\n          >\r\n            <i className={`fas fa-${isDarkTheme ? 'sun' : 'moon'}`}></i>\r\n          </button>\r\n          <Link to=\"/dashboard\" className=\"back-btn\">\r\n            <i className=\"fas fa-arrow-left\"></i>\r\n            Back to Dashboard\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"profile-content\">\r\n        <div className=\"section\">\r\n          <div className=\"section-header\">\r\n            <h2>Recent Activity</h2>\r\n            <button className=\"security-btn\" onClick={() => setShowSecurityModal(true)}>\r\n              <i className=\"fas fa-shield-alt\"></i>\r\n              Security Settings\r\n            </button>\r\n          </div>\r\n          <div className=\"activity-list\">\r\n            {recentActivity.map((activity) => (\r\n              <div key={activity.id} className=\"activity-item\">\r\n                <div className=\"activity-icon\">\r\n                  <i className={`fas fa-${activity.type === 'login' ? 'sign-in-alt' : \r\n                    activity.type === 'password_change' ? 'key' : \r\n                    activity.type === 'logout_all' ? 'sign-out-alt' : 'circle'}`}></i>\r\n                </div>\r\n                <div className=\"activity-content\">\r\n                  <p>{activity.description}</p>\r\n                  <div className=\"activity-details\">\r\n                    <span><i className=\"fas fa-clock\"></i> {new Date(activity.timestamp).toLocaleString()}</span>\r\n                    <span><i className=\"fas fa-map-marker-alt\"></i> {activity.location}</span>\r\n                    <span><i className=\"fas fa-desktop\"></i> {activity.device}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"section\">\r\n          <div className=\"section-header\">\r\n            <h2>Login Statistics</h2>\r\n          </div>\r\n          <div className=\"stats-grid\">\r\n            <div className=\"stat-card\">\r\n              <i className=\"fas fa-sign-in-alt\"></i>\r\n              <div className=\"stat-info\">\r\n                <h3>Total Logins</h3>\r\n                <p>{loginStats.totalLogins}</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"stat-card\">\r\n              <i className=\"fas fa-clock\"></i>\r\n              <div className=\"stat-info\">\r\n                <h3>Last Login</h3>\r\n                <p>{new Date(loginStats.lastLogin).toLocaleString()}</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"stat-card\">\r\n              <i className=\"fas fa-users\"></i>\r\n              <div className=\"stat-info\">\r\n                <h3>Active Sessions</h3>\r\n                <p>{loginStats.activeSessions}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"login-methods\">\r\n            <h3>Login Methods</h3>\r\n            <div className=\"method-bars\">\r\n              <div className=\"method-bar\">\r\n                <span>Email</span>\r\n                <div className=\"bar-container\">\r\n                  <div className=\"bar\" style={{ width: `${(loginStats.loginMethods.email / loginStats.totalLogins) * 100}%` }}></div>\r\n                </div>\r\n                <span>{loginStats.loginMethods.email}</span>\r\n              </div>\r\n              <div className=\"method-bar\">\r\n                <span>Google</span>\r\n                <div className=\"bar-container\">\r\n                  <div className=\"bar\" style={{ width: `${(loginStats.loginMethods.google / loginStats.totalLogins) * 100}%` }}></div>\r\n                </div>\r\n                <span>{loginStats.loginMethods.google}</span>\r\n              </div>\r\n              <div className=\"method-bar\">\r\n                <span>GitHub</span>\r\n                <div className=\"bar-container\">\r\n                  <div className=\"bar\" style={{ width: `${(loginStats.loginMethods.github / loginStats.totalLogins) * 100}%` }}></div>\r\n                </div>\r\n                <span>{loginStats.loginMethods.github}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {showSecurityModal && (\r\n        <div className=\"modal\">\r\n          <div className=\"modal-content\">\r\n            <h2>Security Settings</h2>\r\n            <form onSubmit={handleSecurityUpdate}>\r\n              <div className=\"security-section\">\r\n                <h3>Change Password</h3>\r\n                <input\r\n                  type=\"password\"\r\n                  placeholder=\"Current Password\"\r\n                  value={securitySettings.currentPassword}\r\n                  onChange={(e) => setSecuritySettings({\r\n                    ...securitySettings,\r\n                    currentPassword: e.target.value\r\n                  })}\r\n                  required\r\n                />\r\n                <input\r\n                  type=\"password\"\r\n                  placeholder=\"New Password\"\r\n                  value={securitySettings.newPassword}\r\n                  onChange={(e) => setSecuritySettings({\r\n                    ...securitySettings,\r\n                    newPassword: e.target.value\r\n                  })}\r\n                  required\r\n                />\r\n                <input\r\n                  type=\"password\"\r\n                  placeholder=\"Confirm New Password\"\r\n                  value={securitySettings.confirmPassword}\r\n                  onChange={(e) => setSecuritySettings({\r\n                    ...securitySettings,\r\n                    confirmPassword: e.target.value\r\n                  })}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"security-section\">\r\n                <h3>Two-Factor Authentication</h3>\r\n                <label className=\"toggle-switch\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={securitySettings.twoFactorEnabled}\r\n                    onChange={(e) => setSecuritySettings({\r\n                      ...securitySettings,\r\n                      twoFactorEnabled: e.target.checked\r\n                    })}\r\n                  />\r\n                  <span className=\"toggle-slider\"></span>\r\n                  Enable 2FA\r\n                </label>\r\n              </div>\r\n              <div className=\"security-section\">\r\n                <h3>Active Sessions</h3>\r\n                <p>Current active sessions: {loginStats.activeSessions}</p>\r\n                <button type=\"button\" className=\"danger-btn\" onClick={handleLogoutAllDevices}>\r\n                  Logout from all other devices\r\n                </button>\r\n              </div>\r\n              <div className=\"modal-buttons\">\r\n                <button type=\"submit\" className=\"submit-btn\">\r\n                  Save Changes\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"cancel-btn\"\r\n                  onClick={() => setShowSecurityModal(false)}\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile; "],"mappings":"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"},"metadata":{},"sourceType":"module"}